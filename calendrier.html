<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>R√©server ‚Äì Magic Box Events</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,300;0,400;0,600;1,300&family=Jost:wght@300;400;500;600&display=swap" rel="stylesheet">
    <style>
        :root {
            --gold: #C8963C;
            --dark: #1A1A14;
            --cream: #FDFBF8;
            --text: #2C2C22;
            --red: #C0392B;
            --green: #27AE60;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }
        html { scroll-behavior: smooth; }
        body { background: var(--cream); color: var(--text); font-family: 'Jost', sans-serif; overflow-x: hidden; }

        /* ‚îÄ‚îÄ NAV ‚îÄ‚îÄ */
        nav {
            position: fixed; top: 0; width: 100%; z-index: 1000;
            display: flex; justify-content: space-between; align-items: center;
            padding: 10px 5%; background: rgba(253,251,248,0.95); backdrop-filter: blur(15px);
            border-bottom: 1px solid rgba(200,150,60,0.1);
        }
        .nav-logo { font-family: 'Cormorant Garamond', serif; font-size: 1.3rem; font-weight: 600; text-decoration: none; color: var(--dark); }
        .nav-logo span { color: var(--gold); }
        .nav-tabs { display: flex; gap: 30px; list-style: none; }
        .nav-tabs a { text-decoration: none; color: var(--text); font-size: 0.85rem; text-transform: uppercase; letter-spacing: 1.5px; font-weight: 500; transition: 0.3s; }
        .nav-tabs a:hover { color: var(--gold); }

        /* ‚îÄ‚îÄ HAMBURGER ‚îÄ‚îÄ */
        .hamburger { display: none; flex-direction: column; gap: 5px; cursor: pointer; padding: 5px; background: none; border: none; }
        .hamburger span { display: block; width: 25px; height: 2px; background: var(--dark); transition: 0.3s; }
        .hamburger.open span:nth-child(1) { transform: translateY(7px) rotate(45deg); }
        .hamburger.open span:nth-child(2) { opacity: 0; }
        .hamburger.open span:nth-child(3) { transform: translateY(-7px) rotate(-45deg); }
        .mobile-menu { display: none; position: fixed; top: 75px; left: 0; right: 0; background: rgba(253,251,248,0.98); backdrop-filter: blur(15px); border-bottom: 1px solid rgba(200,150,60,0.15); z-index: 999; padding: 20px 0; }
        .mobile-menu.open { display: block; }
        .mobile-menu a { display: block; padding: 14px 8%; text-decoration: none; color: var(--text); font-size: 0.85rem; text-transform: uppercase; letter-spacing: 1.5px; font-weight: 500; border-bottom: 1px solid rgba(200,150,60,0.08); transition: 0.3s; }
        .mobile-menu a:hover { color: var(--gold); }

        /* ‚îÄ‚îÄ HEADER ‚îÄ‚îÄ */
        .page-header { padding: 140px 10% 60px; text-align: center; background: white; border-bottom: 1px solid rgba(200,150,60,0.15); }
        .page-tag { color: var(--gold); text-transform: uppercase; letter-spacing: 3px; font-size: 0.75rem; margin-bottom: 15px; display: block; }
        h1 { font-family: 'Cormorant Garamond', serif; font-size: clamp(2.5rem, 5vw, 4rem); font-weight: 300; line-height: 1.1; }
        h1 em { color: var(--gold); font-style: italic; }
        .page-sub { margin-top: 15px; color: #5A5A48; font-weight: 300; font-size: 0.95rem; }

        /* ‚îÄ‚îÄ L√âGENDE ‚îÄ‚îÄ */
        .legend { display: flex; justify-content: center; gap: 30px; padding: 30px; flex-wrap: wrap; }
        .legend-item { display: flex; align-items: center; gap: 8px; font-size: 0.82rem; font-weight: 500; letter-spacing: 0.05em; }
        .legend-dot { width: 14px; height: 14px; border-radius: 50%; }

        /* ‚îÄ‚îÄ CALENDRIER ‚îÄ‚îÄ */
        .calendar-section { padding: 40px 5% 80px; max-width: 900px; margin: 0 auto; }
        .calendar-nav { display: flex; justify-content: space-between; align-items: center; margin-bottom: 25px; }
        .calendar-nav button { background: none; border: 1px solid rgba(200,150,60,0.3); color: var(--gold); padding: 8px 18px; cursor: pointer; font-family: 'Jost', sans-serif; font-size: 0.8rem; letter-spacing: 0.1em; transition: 0.3s; }
        .calendar-nav button:hover { background: var(--gold); color: white; }
        .calendar-month { font-family: 'Cormorant Garamond', serif; font-size: 1.8rem; font-weight: 300; color: var(--dark); text-transform: capitalize; }
        .calendar-grid { display: grid; grid-template-columns: repeat(7, 1fr); gap: 6px; }
        .day-header { text-align: center; font-size: 0.72rem; letter-spacing: 0.15em; text-transform: uppercase; color: #888; padding: 8px 0; font-weight: 600; }
        .day {
            aspect-ratio: 1; display: flex; align-items: center; justify-content: center;
            border-radius: 4px; font-size: 0.88rem; font-weight: 500;
            cursor: default; transition: 0.2s; position: relative;
        }
        .day.empty { background: transparent; }
        .day.past { color: #ccc; background: transparent; }
        .day.taken { background: rgba(192,57,43,0.1); color: var(--red); border: 1px solid rgba(192,57,43,0.2); }
        .day.taken::after { content: '‚úó'; font-size: 0.6rem; position: absolute; top: 3px; right: 4px; }
        .day.available { background: rgba(39,174,96,0.08); color: var(--green); border: 1px solid rgba(39,174,96,0.2); cursor: pointer; }
        .day.available:hover { background: var(--green); color: white; transform: scale(1.05); }
        .day.selected { background: var(--gold) !important; color: white !important; border-color: var(--gold) !important; transform: scale(1.05); }
        .day.today { font-weight: 700; }

        /* ‚îÄ‚îÄ FORMULAIRE ‚îÄ‚îÄ */
        .form-section {
            max-width: 620px; margin: 0 auto 80px;
            background: white; border: 1px solid rgba(200,150,60,0.2);
            padding: 50px 40px; display: none;
            animation: fadeIn 0.4s ease;
        }
        .form-section.visible { display: block; }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to   { opacity: 1; transform: translateY(0); }
        }

        .form-title { font-family: 'Cormorant Garamond', serif; font-size: 1.8rem; font-weight: 300; margin-bottom: 6px; }
        .form-date-selected {
            color: var(--gold); font-size: 0.78rem; font-weight: 600;
            letter-spacing: 0.12em; text-transform: uppercase;
            margin-bottom: 30px;
            display: inline-flex; align-items: center; gap: 8px;
            background: rgba(200,150,60,0.08);
            border: 1px solid rgba(200,150,60,0.25);
            padding: 6px 14px; border-radius: 2px;
        }

        .form-group { margin-bottom: 20px; }
        .form-group label { display: block; font-size: 0.75rem; text-transform: uppercase; letter-spacing: 0.15em; font-weight: 600; color: #888; margin-bottom: 8px; }
        .form-group input, .form-group select, .form-group textarea {
            width: 100%; padding: 12px 16px;
            border: 1px solid rgba(0,0,0,0.12); border-radius: 2px;
            font-family: 'Jost', sans-serif; font-size: 0.9rem; color: var(--text);
            background: var(--cream); transition: border-color 0.3s;
        }
        .form-group input:focus, .form-group select:focus, .form-group textarea:focus {
            outline: none; border-color: var(--gold);
        }
        .form-group textarea { resize: vertical; min-height: 100px; }
        .form-row { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; }

        .btn-submit {
            width: 100%; background: var(--gold); color: white;
            padding: 16px; border: none; cursor: pointer;
            font-family: 'Jost', sans-serif; font-size: 0.82rem;
            text-transform: uppercase; letter-spacing: 0.2em; font-weight: 600;
            transition: 0.3s; margin-top: 10px; border-radius: 2px;
        }
        .btn-submit:hover { background: #A07020; }

        .success-msg { display: none; text-align: center; padding: 30px 0 10px; }
        .success-msg.visible { display: block; }
        .success-msg h3 { font-family: 'Cormorant Garamond', serif; font-size: 2rem; color: var(--green); margin-bottom: 10px; }
        .success-msg p { color: #5A5A48; font-weight: 300; line-height: 1.7; }

        /* ‚îÄ‚îÄ NOTE ADMIN ‚îÄ‚îÄ */
        .admin-note {
            max-width: 620px; margin: 0 auto 40px;
            background: rgba(200,150,60,0.06);
            border: 1px dashed rgba(200,150,60,0.4);
            padding: 20px 25px;
            font-size: 0.82rem; color: #5A5A48; line-height: 1.9;
        }
        .admin-note strong { color: var(--gold); }
        .admin-note code { background: rgba(200,150,60,0.12); padding: 1px 6px; border-radius: 2px; font-size: 0.78rem; }

        /* ‚îÄ‚îÄ FOOTER ‚îÄ‚îÄ */
        footer { padding: 30px; text-align: center; background: #000; color: #555; font-size: 0.7rem; letter-spacing: 1px; }

        /* ‚îÄ‚îÄ MOBILE ‚îÄ‚îÄ */
        @media (max-width: 768px) {
            nav { padding: 5px 4%; height: 75px; }
            .nav-tabs { display: none; }
            .hamburger { display: flex; }
            .btn-reserver { display: none; }
            .page-header { padding: 100px 6% 50px; }
            .calendar-section { padding: 30px 4% 60px; }
            .day { font-size: 0.78rem; }
            .form-section { padding: 30px 20px; margin: 0 4% 60px; }
            .form-row { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>

<!-- NAV -->
<nav>
    <a href="index.html" class="nav-logo"><span>Magic</span> Box Events</a>
    <ul class="nav-tabs">
        <li><a href="index.html">Accueil</a></li>
        <li><a href="video.html">La Magic Box en action</a></li>
        <li><a href="index.html#formules">Tarifs</a></li>
        <li><a href="calendrier.html" style="color:var(--gold)">R√©server</a></li>
    </ul>
    <a href="tel:0686011346" class="btn-reserver" style="background:var(--gold); color:white; padding:10px 15px; text-decoration:none; font-size:0.7rem; font-weight:600; letter-spacing:1px; border-radius:2px;">R√âSERVER</a>
    <button class="hamburger" id="hamburger" onclick="toggleMenu()">
        <span></span><span></span><span></span>
    </button>
</nav>

<!-- MENU MOBILE -->
<div class="mobile-menu" id="mobileMenu">
    <a href="index.html" onclick="closeMenu()">Accueil</a>
    <a href="video.html" onclick="closeMenu()">La Magic Box en action</a>
    <a href="index.html#formules" onclick="closeMenu()">Tarifs</a>
    <a href="calendrier.html" onclick="closeMenu()" style="color:var(--gold);">üìÖ R√©server</a>
    <a href="tel:0686011346" style="color:var(--gold); font-weight:600;">üìû Appeler</a>
</div>

<!-- HEADER -->
<div class="page-header">
    <span class="page-tag">Disponibilit√©s</span>
    <h1>Choisissez votre<br><em>date</em></h1>
    <p class="page-sub">Cliquez sur une date disponible pour envoyer votre demande de r√©servation</p>
</div>

<!-- L√âGENDE -->
<div class="legend">
    <div class="legend-item"><div class="legend-dot" style="background:var(--green)"></div> Disponible</div>
    <div class="legend-item"><div class="legend-dot" style="background:var(--red)"></div> D√©j√† r√©serv√©</div>
    <div class="legend-item"><div class="legend-dot" style="background:var(--gold)"></div> Votre s√©lection</div>
</div>

<!-- CALENDRIER -->
<div class="calendar-section">
    <div class="calendar-nav">
        <button onclick="prevMonth()">‚Üê Pr√©c√©dent</button>
        <div class="calendar-month" id="monthTitle"></div>
        <button onclick="nextMonth()">Suivant ‚Üí</button>
    </div>
    <div class="calendar-grid" id="calendarGrid"></div>
</div>


<!-- FORMULAIRE -->
<div class="form-section" id="formSection">
    <div class="form-title">Votre demande de r√©servation</div>
    <div class="form-date-selected" id="formDateDisplay">üìÖ ‚Äî</div>

    <form id="reservationForm" action="https://formspree.io/f/xaqddgdl" method="POST">
        <input type="hidden" name="date_evenement" id="hiddenDate">
        <input type="hidden" name="_subject" value="üéâ Nouvelle demande de r√©servation ‚Äì Magic Box Events">
        <input type="hidden" name="_replyto" id="hiddenReplyTo">

        <div class="form-row">
            <div class="form-group">
                <label>Pr√©nom *</label>
                <input type="text" name="prenom" required placeholder="Jean">
            </div>
            <div class="form-group">
                <label>Nom *</label>
                <input type="text" name="nom" required placeholder="Dupont">
            </div>
        </div>

        <div class="form-group">
            <label>Email *</label>
            <input type="email" name="email" id="emailInput" required placeholder="jean@exemple.fr"
                oninput="document.getElementById('hiddenReplyTo').value=this.value">
        </div>

        <div class="form-group">
            <label>T√©l√©phone *</label>
            <input type="tel" name="telephone" required placeholder="06 00 00 00 00">
        </div>

        <div class="form-group">
            <label>Type d'√©v√©nement *</label>
            <select name="type_evenement" required>
                <option value="">-- Choisissez --</option>
                <option>Mariage</option>
                <option>Anniversaire</option>
                <option>Soir√©e d'entreprise</option>
                <option>EVJF / EVG</option>
                <option>Salon / Exposition</option>
                <option>Autre</option>
            </select>
        </div>

        <div class="form-row">
            <div class="form-group">
                <label>Formule souhait√©e</label>
                <select name="formule">
                    <option value="">-- Choisissez --</option>
                    <option>Essentielle ‚Äì 230‚Ç¨ (100 tirages)</option>
                    <option>Classique ‚Äì 290‚Ç¨ (200 tirages)</option>
                    <option>Premium ‚Äì 350‚Ç¨ (300 tirages)</option>
                </select>
            </div>
            <div class="form-group">
                <label>Ville / Lieu</label>
                <input type="text" name="lieu" placeholder="Paris 75001">
            </div>
        </div>

        <div class="form-group">
            <label>Horaires souhait√©s</label>
            <input type="text" name="horaires" placeholder="Ex : 19h ‚Äì 23h">
        </div>

        <div class="form-group">
            <label>Message (optionnel)</label>
            <textarea name="message" placeholder="Informations compl√©mentaires‚Ä¶"></textarea>
        </div>

        <button type="submit" class="btn-submit">üìÖ Envoyer ma demande de r√©servation</button>
    </form>

    <div class="success-msg" id="successMsg">
        <h3>‚úÖ Demande envoy√©e !</h3>
        <p>Nous avons bien re√ßu votre demande pour le <strong id="successDate"></strong>.<br>
        Nous vous confirmons la disponibilit√© dans les plus brefs d√©lais<br>par email ou t√©l√©phone.</p>
    </div>
</div>

<footer>¬© 2026 MAGIC BOX EVENTS ‚Äî Location Photobooth √éle-de-France</footer>

<script>
    // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
    // üëâ DATES D√âJ√Ä R√âSERV√âES (format "YYYY-MM-DD")
    // Ajoute ici chaque date confirm√©e pour la griser sur le calendrier
    const datesPrises = [
        "2026-02-24",  // ‚úÖ R√©serv√©
        "2026-02-27",  // ‚úÖ R√©serv√©
        "2026-02-28",
        "2026-03-07",
        "2026-03-14",
        "2026-03-21",
    ];
    // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

    let currentDate = new Date();
    let selectedDate = null;

    const mois = ["Janvier","F√©vrier","Mars","Avril","Mai","Juin","Juillet","Ao√ªt","Septembre","Octobre","Novembre","D√©cembre"];
    const jours = ["Lun","Mar","Mer","Jeu","Ven","Sam","Dim"];

    function renderCalendar() {
        const grid = document.getElementById('calendarGrid');
        const title = document.getElementById('monthTitle');
        grid.innerHTML = '';

        const year = currentDate.getFullYear();
        const month = currentDate.getMonth();
        title.textContent = mois[month] + ' ' + year;

        jours.forEach(j => {
            const h = document.createElement('div');
            h.className = 'day-header';
            h.textContent = j;
            grid.appendChild(h);
        });

        const firstDay = new Date(year, month, 1);
        let startDay = firstDay.getDay() - 1;
        if (startDay < 0) startDay = 6;

        for (let i = 0; i < startDay; i++) {
            const empty = document.createElement('div');
            empty.className = 'day empty';
            grid.appendChild(empty);
        }

        const daysInMonth = new Date(year, month + 1, 0).getDate();
        const today = new Date();
        today.setHours(0,0,0,0);

        for (let d = 1; d <= daysInMonth; d++) {
            const dayEl = document.createElement('div');
            const dateStr = `${year}-${String(month+1).padStart(2,'0')}-${String(d).padStart(2,'0')}`;
            const thisDate = new Date(year, month, d);

            dayEl.textContent = d;
            dayEl.className = 'day';

            if (thisDate < today) {
                dayEl.classList.add('past');
            } else if (datesPrises.includes(dateStr)) {
                dayEl.classList.add('taken');
                dayEl.title = 'Date d√©j√† r√©serv√©e';
            } else {
                dayEl.classList.add('available');
                if (dateStr === selectedDate) dayEl.classList.add('selected');
                dayEl.onclick = () => selectDate(dateStr, d, month, year);
            }

            if (thisDate.toDateString() === today.toDateString()) dayEl.classList.add('today');
            grid.appendChild(dayEl);
        }
    }

    function selectDate(dateStr, d, month, year) {
        selectedDate = dateStr;
        renderCalendar();

        const dateFormatted = `${d} ${mois[month]} ${year}`;
        document.getElementById('formDateDisplay').textContent = 'üìÖ ' + dateFormatted;
        document.getElementById('hiddenDate').value = dateFormatted;
        document.getElementById('successDate').textContent = dateFormatted;

        const formSection = document.getElementById('formSection');
        formSection.classList.add('visible');
        setTimeout(() => {
            formSection.scrollIntoView({ behavior: 'smooth', block: 'start' });
        }, 100);
    }

    function prevMonth() {
        currentDate.setMonth(currentDate.getMonth() - 1);
        renderCalendar();
    }
    function nextMonth() {
        currentDate.setMonth(currentDate.getMonth() + 1);
        renderCalendar();
    }

    // Envoi formulaire via Formspree
    document.getElementById('reservationForm').addEventListener('submit', function(e) {
        e.preventDefault();
        const form = this;
        fetch(form.action, {
            method: 'POST',
            body: new FormData(form),
            headers: { 'Accept': 'application/json' }
        }).then(response => {
            if (response.ok) {
                form.style.display = 'none';
                document.getElementById('successMsg').classList.add('visible');
            }
        });
    });

    function toggleMenu() {
        document.getElementById('hamburger').classList.toggle('open');
        document.getElementById('mobileMenu').classList.toggle('open');
    }
    function closeMenu() {
        document.getElementById('hamburger').classList.remove('open');
        document.getElementById('mobileMenu').classList.remove('open');
    }

    renderCalendar();
</script>
</body>
</html>
